(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1458:function(t,e,a){"use strict";a.r(e);var n=a(25),c=a(408),s=a.n(c),i=a(452),r=a(8),o=a(9),l=a(11),p=a(10),u=a(12),m=a(0),d=a.n(m),h=a(20),f=a(19),g=a(1),x=a(24),b=a(3),y=a.n(b),v=a(18),w=a(15),E=a(43),j=a(22),O=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(c)))).state={},a.fetchCourse=function(t){E.b.get("/courses/contents",{params:t}).then(function(t){if(!t.data.success)return a.props.showMessage({message:"Get Course Failed"}),void a.props.history.push({pathname:"/courses"});a.setState(t.data.data)})},a.fetchActivity=function(){E.b.post("/activity/get/course",{courseId:a.props.match.params.id,userId:a.props.user.userId}).then(function(){var t=Object(i.a)(s.a.mark(function t(e){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.data.doc.forEach(function(t){n.push(t.contentId)});case 3:a.setState({activities:n});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},a.startWatching=function(){a.props.history.push({pathname:"/browse/".concat(a.state._id,"/").concat(a.state.contents[a.state.activities.length]._id)})},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"componentWillMount",value:function(){var t=Object(i.a)(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchCourse({courseId:this.props.match.params.id});case 2:return t.next=4,this.fetchActivity();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props.classes;return d.a.createElement(h.a,{animation:"transition.slideUpIn",delay:300,style:{background:"black"}},d.a.createElement("div",{className:y()(e.root,"w-full pt-16")},this.state._id&&this.state.contents&&this.state.activities&&d.a.createElement("div",null,d.a.createElement("section",{className:"container"},d.a.createElement("img",{src:""===this.state.coverimage?"assets/images/img/icons/s1.png":"".concat(E.a,"/uploads/").concat(this.state._id,"/").concat(this.state.coverimage,"?").concat(Date.now()),alt:"",style:{width:"100%",height:"230px"}}),d.a.createElement("br",null),d.a.createElement("h1",{style:{textAlign:"center"},className:e.title},this.state.name),d.a.createElement("h4",{style:{textAlign:"center",color:"#4f4f67"}},"".concat(this.state.contents.length," courses")),d.a.createElement("br",null),d.a.createElement(g.c,{type:"submit",variant:"contained",color:"primary",className:"w-full mx-auto normal-case",value:"legacy",style:{background:"linear-gradient(219deg, #867631 0%, #d8c884 73%, #d8c884d1 110%)"},onClick:this.startWatching},this.state.activities.length?"CONTINUE WATCHING":"START")),d.a.createElement("section",{className:"container"},d.a.createElement("div",{className:"section-head"},d.a.createElement("h4",{className:"title-main"},"Course Content")),d.a.createElement("div",{className:"c-wrapper"},d.a.createElement(g.x,{cols:0,cellHeight:80},this.state.contents.map(function(a,c){var s,i;return d.a.createElement(g.y,{classes:{root:"w-full h-full",tile:"rounded-8 text-center w-full"},style:{display:"flex",background:"#000",padding:"10px",margin:"0 0 10px",border:"1px solid #000",position:"relative",boxShadow:"0px 0px 9px 1px rgba(252, 255, 255, 0.16)"},key:c},d.a.createElement(v.a,{to:"/browse/".concat(t.state._id,"/").concat(a._id),style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},d.a.createElement("div",{style:{display:"flex",alignItems:"center"}},d.a.createElement("img",{src:a.pic?"".concat(E.a,"/uploads/").concat(t.state._id,"/").concat(a.pic):"assets/images/img/product/con1.png",alt:"Course image",style:{maxWidth:"70px"}}),d.a.createElement("div",{style:{marginLeft:"10px"}},d.a.createElement("h4",{style:{margin:0,fontWeight:"600",fontSize:"13px",textAlign:"left"},className:e.title},a.name),d.a.createElement("small",{style:{color:"#828caa",marginTop:"10px",display:"inherit",textAlign:"left"}},d.a.createElement(g.G,{style:{width:"150px"},variant:"determinate",value:0,color:"primary"})))),-1!==t.state.activities.indexOf(a._id)?d.a.createElement("div",{style:(s={background:"#73ef9f",color:"#000",width:"40px",height:"40px",fontSize:"40px",display:"inline-block",borderRadius:"50%",lineHeight:"40px",textAlign:"center"},Object(n.a)(s,"fontSize","20px"),Object(n.a)(s,"position","absolute"),Object(n.a)(s,"top","50%"),Object(n.a)(s,"right","20px"),Object(n.a)(s,"transform","translateY(-50%)"),s)},d.a.createElement(g.B,{className:"w-40 h-40",style:{fontSize:"40px"}},"check")):d.a.createElement("div",{style:(i={background:"#000",color:"#fff",width:"40px",height:"40px",fontSize:"40px",display:"inline-block",borderRadius:"50%",lineHeight:"40px",textAlign:"center"},Object(n.a)(i,"fontSize","20px"),Object(n.a)(i,"position","absolute"),Object(n.a)(i,"top","50%"),Object(n.a)(i,"right","20px"),Object(n.a)(i,"transform","translateY(-50%)"),i)})))})))))))}}]),e}(m.Component);e.default=Object(x.withStyles)(function(t){return{root:{background:"black","& .container":{padding:"0px 10px"},"& section":{"& .section-head":{"& .title-main":{margin:"0",fontSize:"16px",color:"#9c9fa9",flex:8},display:"flex",alignItems:"center",marginTop:"30px",marginBottom:"15px"}}},title:{color:"white"}}},{withTheme:!0})(Object(f.b)(function(t){return{user:t.auth.user}},function(t){return Object(w.c)({showMessage:j.j},t)})(O))}}]);