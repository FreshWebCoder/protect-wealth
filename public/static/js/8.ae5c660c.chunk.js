(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1227:function(e,t,a){"use strict";var r=a(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var n=r(a(6)),o=r(a(0)),l=(r(a(2)),r(a(14))),s=r(a(70)),i={root:{lineHeight:1.5}};t.styles=i;var c=(0,l.default)(i,{name:"MuiDialogContentText"})(function(e){return o.default.createElement(s.default,(0,n.default)({component:"p",internalDeprecatedVariant:!0,variant:"subheading",color:"textSecondary"},e))});t.default=c},1463:function(e,t,a){"use strict";a.r(t);var r=a(13),n=a(8),o=a(9),l=a(11),s=a(10),i=a(12),c=a(25),u=a(0),m=a.n(u),p=a(48),d=a(1),h=a(24),b=a(21),f=a(51),v=a.n(f),E=a(171),g=a.n(E),w=a(269),y=a.n(w),x=a(270),k=a.n(x),O=a(271),C=a.n(O),j=a(522),N=a.n(j),S=a(272),P=a.n(S),A=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,photo_url:""},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleselectedFile=function(e){var t=e.target.files[0],r=new FormData,n=a.state.photo_url;r.append("file",t),console.log(t);return p.b.post("/upload",r,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return a.setState({photo_url:e.data.file.path,prev_url:n})})},a.handleSave=function(){a.handleClose(),a.props.onSave(a.state.photo_url)},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(d.C,{style:{padding:"0px"}},m.a.createElement(d.B,{onClick:function(t){t.stopPropagation(),e.handleClickOpen()}},"camera")),m.a.createElement(y.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},m.a.createElement(P.a,{id:"form-dialog-title"},"Avatar"),m.a.createElement(C.a,null,m.a.createElement(N.a,null,"To edit this avatar, please enter upload here."),m.a.createElement("input",{type:"file",id:"photo_url",name:"photo_url",onChange:this.handleselectedFile})),m.a.createElement(k.a,null,m.a.createElement(g.a,{onClick:this.handleSave,color:"secondary"},"Save"),m.a.createElement(g.a,{onClick:this.handleClose,color:"secondary"},"Cancel"))))}}]),t}(m.a.Component),M=a(20),I=a(16),F={MuiInputBase:{root:{color:"black"}},MuiFormLabel:{root:{color:"black","&$focused":{color:"black"}}},MuiOutlinedInput:{notchedOutline:{borderColor:"black !important"}}},_=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){this.props.classes;return m.a.createElement(h.MuiThemeProvider,{theme:Object(r.a)({},this.props.theme,{overrides:F})},m.a.createElement(d.l,{open:!0,"aria-labelledby":"form-dialog-title"},m.a.createElement(d.o,{id:"form-dialog-title"},"ENTER CURRENT PASSWORD"),m.a.createElement(d.n,null,m.a.createElement(d.cb,{className:"mt-16",type:"password",name:"password",label:"Password",InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"vpn_key"))},variant:"outlined"})),m.a.createElement(d.m,null,m.a.createElement(d.c,{onClick:function(){},color:"primary"},"Forgot Password?"),m.a.createElement(d.c,{onClick:function(){},color:"primary"},"Confirm"))))}}]),t}(m.a.Component);Object(h.withStyles)(function(e){return{root:{background:"black"}}},{withTheme:!0})(Object(M.b)(function(e,t){return{}},function(e){return Object(I.c)({},e)})(_));var B=a(3),T=a.n(B),R=a(37),D=a(23),U=(a(15),{MuiInputBase:{root:{color:"white"}},MuiFormLabel:{root:{color:"white","&$focused":{color:"white"}}},MuiOutlinedInput:{notchedOutline:{borderColor:"#bfbab28c !important"}}}),L={MuiInputBase:{root:{color:"black"}},MuiFormLabel:{root:{color:"black","&$focused":{color:"black"}}},MuiOutlinedInput:{notchedOutline:{borderColor:"black !important"}}},q=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={confirm:!1},a.form=m.a.createRef(),a.onSubmit=function(e){a.setState({model:e,confirm:!0,password:""})},a.confirmPassword=function(){var e=a.props.user.userId,t=a.state,r=t.model,n=t.password;p.b.post("/auth/user/checkpwd",{userId:e,password:n,model:r}).then(function(t){if(t.data.success){if(r.password&&""!==r.password){var n=r.password;p.b.post("/auth/user/updatepwd",{userId:e,password:n}).then(function(e){})}a.props.updateUserShortcuts({userName:r.username,email:r.email}),a.setState({confirm:!1})}else a.props.showMessage({message:t.data.message})})},a.handleChange=function(e){a.setState({password:e.target.value})},a.handleSaveAvatar=function(e){var t=a.props.user.userId;a.props.updateUserShortcuts({userId:t,avatar:e})},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({confirm:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user;return m.a.createElement(h.MuiThemeProvider,{theme:Object(r.a)({},this.props.theme,{overrides:U})},m.a.createElement(b.m,{classes:{content:a.root,toolbar:"px-16 sm:px-24"},content:m.a.createElement("div",{className:"p-16 sm:p-24"},m.a.createElement("div",{className:a.profileBg},m.a.createElement("br",null),m.a.createElement("div",{className:"form-row "},m.a.createElement("div",{className:"profile-image",style:{width:"110px",height:"110px",padding:"5px",borderRadius:"50%",display:"inline-block",boxShadow:"0px 0px 5px 0px rgba(0,0,0,0.1)",position:"relative"}},m.a.createElement(d.b,{className:"w-96 h-96",alt:"user photo",src:n.avatar&&""!==n.avatar?n.avatar:"assets/images/avatars/profile.jpg"}),m.a.createElement("div",{style:{position:"absolute",display:"block",width:"32px",height:"32px",borderRadius:"50%",boxShadow:"0px 0px 3px 0px rgba(0,0,0,0.2)",backgroundColor:"#fff",right:0,bottom:0,textAlign:"center",lineHeight:"32px"}},m.a.createElement(A,{type:"avatar",onSave:this.handleSaveAvatar})))),m.a.createElement("br",null),m.a.createElement("div",{className:"container",style:{padding:"10px"}},m.a.createElement("div",{className:"student-name",style:{background:"rgba(255,255,255,.2)",borderRadius:"10px",padding:"40px 15px 20px",textAlign:"center",position:"relative",marginBottom:"20px"}},m.a.createElement("h3",{style:{marginBottom:"10px",color:"#fff",fontSize:"20px"}},n.userName),m.a.createElement("p",{style:{color:"#e2e9ef"}},n.email)))),m.a.createElement("br",null),m.a.createElement("div",{className:"form-label-divider",style:{display:"block",width:"100%",clear:"both",height:"1px",backgroundColor:"#DDD",textAlign:"center",opacity:"0.5"}},m.a.createElement("span",{style:{position:"relative",top:"-8px",fontWeight:"700",display:"inline-block",backgroundColor:"#000",color:"#F5F6F8",padding:"0 10px"}},"ACCOUNT INFO")),m.a.createElement("br",null),m.a.createElement(v.a,{onValidSubmit:this.onSubmit,ref:function(t){return e.form=t},className:"flex flex-col justify-center w-full h-full",style:{color:"white"}},m.a.createElement(b.t,{className:T()(a.input,"mb-16"),type:"text",name:"username",label:"Username",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"person"))},variant:"outlined",value:n.userName,required:!0}),m.a.createElement(b.t,{className:T()(a.input,"mb-16"),type:"email",name:"email",label:"Email Address",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"mail"))},variant:"outlined",value:n.email,required:!0}),m.a.createElement(b.t,{className:T()(a.input,"mb-16"),type:"password",name:"password",label:"Password",validations:"equalsField:password-confirm",validationErrors:{equalsField:"Passwords do not match"},InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"vpn_key"))},variant:"outlined"}),m.a.createElement(b.t,{className:T()(a.input,"mb-16"),type:"password",name:"password-confirm",label:"Confirm Password",validations:"equalsField:password",validationErrors:{equalsField:"Passwords do not match"},InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"vpn_key"))},variant:"outlined"}),m.a.createElement("h4",{style:{color:"#6f6f70",textAlign:"center"}},"If you don't want to change the password, leave them blank."),m.a.createElement(d.c,{type:"submit",variant:"contained",color:"primary",className:"w-full mx-auto mt-16 normal-case","aria-label":"UPDATE",value:"legacy"},"Update")))}),m.a.createElement(h.MuiThemeProvider,{theme:Object(r.a)({},this.props.theme,{overrides:L})},m.a.createElement(d.l,{open:this.state.confirm,"aria-labelledby":"form-dialog-title"},m.a.createElement(d.o,{id:"form-dialog-title"},"ENTER CURRENT PASSWORD"),m.a.createElement(d.n,null,m.a.createElement(d.cb,{className:"mt-16",type:"password",name:"password",label:"Current Password",InputProps:{startAdornment:m.a.createElement(d.E,{position:"start"},m.a.createElement(d.B,{className:"text-20"},"vpn_key"))},value:this.state.password,onChange:this.handleChange,variant:"outlined"})),m.a.createElement(d.m,null,m.a.createElement(d.c,{onClick:function(){return e.props.history.push({pathname:"/forgot-password"})},color:"primary"},"Forgot Password?"),m.a.createElement(d.c,{onClick:this.confirmPassword,color:"primary"},"Confirm")))))}}]),t}(u.Component);t.default=Object(h.withStyles)(function(e){return{root:{background:"black"},input:{},layoutHeader:Object(c.a)({height:320,minHeight:320},e.breakpoints.down("md"),{height:240,minHeight:240}),profileBg:{textAlign:"center",backgroundColor:e.palette.primary.main}}},{withTheme:!0})(Object(M.b)(function(e,t){return{user:e.auth.user}},function(e){return Object(I.c)({updateUserShortcuts:R.n,showMessage:D.j},e)})(q))},522:function(e,t,a){"use strict";var r=a(4);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}});var n=r(a(1227))}}]);